NonePHP - A Anthoer PHP Framework

1. install

directory copy to target environment.

export archive file example:
zip -r content.zip application public -x public/index.php
zip -r framework.zip system public/index.php

2. depends

php-pdo
php-mcrypt
php-mysql or php-pgsql
php-pecl-memcache or php-pecl-memcache or php-redis(https://github.com/nicolasff/phpredis)

3. rewrite setting demo

3.1 apache

3.1.1 .conf file

<VirtualHost *:80>
	ServerName someone
	DocumentRoot "/var/www/vhost/someone"

	<Directory "/var/www/vhost/someone">
		Order allow,deny
		Allow from all
		AllowOverride None
		Options FollowSymLinks
		RewriteEngine on
		RewriteBase /
		RewriteRule ^$      public/    [L]
		RewriteRule (.*)    public/$1  [L]
	</Directory>

	<Directory "/var/www/vhost/someone/public">
		RewriteEngine on
		RewriteBase /public/
		RewriteCond %{REQUEST_FILENAME} !-f
		RewriteCond %{REQUEST_FILENAME} !-d
		RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
	</Directory>
</VirtualHost>

3.1.2 .htaccess file

3.1.2.1 directory /

RewriteEngine on
RewriteBase /
RewriteRule ^$      public/    [L]
RewriteRule (.*)    public/$1  [L]

3.1.2.2 directory /public/

RewriteEngine on
RewriteBase /public/
RewriteRule ^service/(.*)$ index.php?url=$1 [QSA,L]

3.2 nginx

server {
    listen       80;
    server_name  someone;
    
	root   /var/www;
    index  index.html index.htm index.php;

    location / {
		rewrite ^/$ /public/ last;
		rewrite ^(.*)$ /public/$1 last;
	}
	location /public/ {
		rewrite ^/public/service/(.*)$ /public/index.php?url=$1 last;
	}
}


