NextPHP - Lightweight PHP Framework

1. install

directory copy to target environment.

export archive file example:
zip -r framework.zip system public/np-env.php public/np-services.php
zip -r content.zip application public -x public/np-env.php public/np-services.php

2. depends

php-pdo
php-mcrypt
php-mysql or php-pgsql
php-pecl-memcache or php-pecl-memcached or php-redis (https://github.com/nicolasff/phpredis)

3. rewrite setting demo

3.1 apache

3.1.1 .conf file

<VirtualHost *:80>
	ServerName someone
	DocumentRoot "/var/www/someone"

	<Directory "/var/www/someone">
		Order allow,deny
		Allow from all
		AllowOverride None
		Options -Indexes +FollowSymLinks
		RewriteEngine on
		RewriteBase /
		RewriteCond %{REQUEST_URI} !^/public/
		RewriteCond %{REQUEST_URI} !^/services/
		RewriteRule ^(.*)$ public/$1  [L]
		RewriteRule ^services/(.*)$ public/np-services.php?url=$1 [QSA,L]
	</Directory>
</VirtualHost>

3.1.2 .htaccess file

3.1.2.1 directory /

RewriteEngine on
RewriteBase /
RewriteCond %{REQUEST_URI} !^/public/
RewriteCond %{REQUEST_URI} !^/services/
RewriteRule ^(.*)$ public/$1  [L]
RewriteRule ^services/(.*)$ public/np-services.php?url=$1 [QSA,L]

3.2 nginx

server {
    listen       80;
    server_name  someone;
    
    root   /var/www/someone;
    index  index.html index.htm index.php;

    location / {
        rewrite ^(.*)$ /public/$1 break; 
    }
    location /public/ {
    }
    location /services/ {
	rewrite ^/services/(.*)$ /public/np-services.php?url=$1 break;
    }
}


